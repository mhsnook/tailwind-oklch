/* tailwind-oklch — OKLCH color composition system for Tailwind v4
 *
 * Usage:
 *   @import "tailwindcss";
 *   @import "tailwind-oklch";
 *   @plugin "tailwind-oklch/plugin";
 *
 * Every setter utility (bg-lc-*, bg-c-*, bg-h-*) both updates its
 * axis variable AND applies the resolved oklch() color. Defaults
 * cascade from :root, so a single class like `bg-lc-5` immediately
 * produces a visible color — no helper class needed.
 *
 * Luminance contrast scale: 0–10.
 *   0 / base  = close to the page color (blends in)
 *   10 / fore = high contrast with the page (stands out, like text)
 *   1–9       = evenly distributed between those endpoints
 *   none      = absolute minimum (pure white or pure black, per mode)
 *   full      = absolute maximum (pure black or pure white, per mode)
 */

@theme {
  /* ── Hue Definitions ─────────────────────────────────────────────────
     Change these to re-theme your entire app. */
  --hue-primary: 233;
  --hue-accent: 350;
  --hue-success: 145;
  --hue-warning: 55;
  --hue-danger: 15;
  --hue-info: 220;
  --hue-neutral: 260;

  /* ── Luminance Contrast Range ─────────────────────────────────────
     Defines the OKLCH lightness values at 0 (base) and 10 (fore).
     Light mode (default): base is near white, fore is near black.
     Dark mode flips them (see .dark below).
     Override --lc-range-start and --lc-range-end to shift the range. */
  --lc-range-start: 0.95;
  --lc-range-end: 0.15;

  /* ── 0–10 Luminance Contrast Scale ────────────────────────────────
     Computed: step N = start + (end - start) × (N / 10)
     Light mode (default): 0→0.95, 5→0.55, 10→0.15
     Dark mode (override): 0→0.12, 5→0.52, 10→0.92 */
  --l-0: 0.95;
  --l-1: 0.87;
  --l-2: 0.79;
  --l-3: 0.71;
  --l-4: 0.63;
  --l-5: 0.55;
  --l-6: 0.47;
  --l-7: 0.39;
  --l-8: 0.31;
  --l-9: 0.23;
  --l-10: 0.15;

  /* Semantic aliases */
  --l-base: 0.95;
  --l-fore: 0.15;

  /* Absolute extremes — escape the configured range entirely.
     none = beyond base (pure white in light, pure black in dark).
     full = beyond fore (pure black in light, pure white in dark). */
  --l-none: 1;
  --l-full: 0;

  /* ── Named Chroma Stops ──────────────────────────────────────────────
     OKLCH chroma: practical range 0–0.25 */
  --c-lo: 0.02;
  --c-mlo: 0.06;
  --c-mid: 0.12;
  --c-mhi: 0.18;
  --c-hi: 0.25;

  /* ── LC Adjustment Steps ───────────────────────────────────────────
     Each step ≈ one position on the 0–10 scale (~0.08 OKLCH L). */
  --lc-adj-1: 0.08;
  --lc-adj-2: 0.16;
  --lc-adj-3: 0.24;
  --lc-adj-4: 0.32;
  --lc-adj-5: 0.40;
}

/* ── Dark-mode luminance contrast range ──────────────────────────────
   In dark mode the scale flips: 0/base is near black (blends with
   the page), 10/fore is near white (high contrast, like text). */

.dark {
  --lc-dir: 1;
  --lc-flip: 1;
  --lc-range-start: 0.12;
  --lc-range-end: 0.92;

  --l-0: 0.12;
  --l-1: 0.20;
  --l-2: 0.28;
  --l-3: 0.36;
  --l-4: 0.44;
  --l-5: 0.52;
  --l-6: 0.60;
  --l-7: 0.68;
  --l-8: 0.76;
  --l-9: 0.84;
  --l-10: 0.92;

  --l-base: 0.12;
  --l-fore: 0.92;

  --l-none: 0;
  --l-full: 1;
}

/* ── Cascade Defaults ────────────────────────────────────────────────────
   Sensible fallbacks so any single-axis setter immediately resolves.
   These inherit down the DOM tree, so a parent's bg-h-accent
   naturally flows to children that only set bg-lc-* or bg-c-*. */

:root {
  --lc-dir: -1;
  --lc-flip: 0;

  --bg-l: var(--l-5);
  --bg-c: var(--c-lo);
  --bg-h: var(--hue-primary);

  --tx-l: var(--l-fore);
  --tx-c: var(--c-lo);
  --tx-h: var(--hue-primary);

  --bd-l: var(--l-3);
  --bd-c: var(--c-lo);
  --bd-h: var(--hue-primary);

  --ac-l: var(--l-5);
  --ac-c: var(--c-mid);
  --ac-h: var(--hue-primary);

  --gf-l: var(--l-5);
  --gf-c: var(--c-mid);
  --gf-h: var(--hue-primary);

  --gt-l: var(--l-5);
  --gt-c: var(--c-mid);
  --gt-h: var(--hue-primary);

  --sh-l: var(--l-5);
  --sh-c: var(--c-lo);
  --sh-h: var(--hue-primary);

  --bdb-l: var(--l-3);
  --bdb-c: var(--c-lo);
  --bdb-h: var(--hue-primary);
}

/* ── Global Hue ─────────────────────────────────────────────────────────
   Set the hue for ALL color properties at once. Per-property hue
   utilities (bg-h-*, text-h-*, etc.) still work as overrides.
   Usage: hue-primary, hue-accent, hue-danger, etc. */

@utility hue-* {
  --bg-h: --value(--hue-*);
  --tx-h: --value(--hue-*);
  --bd-h: --value(--hue-*);
  --bdb-h: --value(--hue-*);
  --ac-h: --value(--hue-*);
  --gf-h: --value(--hue-*);
  --gt-h: --value(--hue-*);
  --sh-h: --value(--hue-*);
}

/* ── Global Chroma ──────────────────────────────────────────────────────
   Set the chroma for ALL color properties at once. Per-property chroma
   utilities (bg-c-*, text-c-*, etc.) still work as overrides.
   Usage: chroma-lo, chroma-mid, chroma-hi, etc. */

@utility chroma-* {
  --bg-c: --value(--c-*);
  --tx-c: --value(--c-*);
  --bd-c: --value(--c-*);
  --bdb-c: --value(--c-*);
  --ac-c: --value(--c-*);
  --gf-c: --value(--c-*);
  --gt-c: --value(--c-*);
  --sh-c: --value(--c-*);
}

/* ── Background ──────────────────────────────────────────────────────── */

@utility bg-lc-* {
  --bg-l: --value(--l-*);
  background-color: oklch(var(--bg-l) var(--bg-c) var(--bg-h));
}

@utility bg-c-* {
  --bg-c: --value(--c-*);
  background-color: oklch(var(--bg-l) var(--bg-c) var(--bg-h));
}

@utility bg-h-* {
  --bg-h: --value(--hue-*);
  background-color: oklch(var(--bg-l) var(--bg-c) var(--bg-h));
}

/* ── Background LC Adjustments ───────────────────────────────────────
   Nudge background luminance up (more contrast) or down (less contrast)
   relative to the current --bg-l, without changing --bg-l itself. */

@utility bg-lc-up-* {
  --bg-l-adj: --value(--lc-adj-*);
  background-color: oklch(clamp(0, calc(var(--bg-l) + var(--lc-dir) * var(--bg-l-adj)), 1) var(--bg-c) var(--bg-h));
}

@utility bg-lc-down-* {
  --bg-l-adj: --value(--lc-adj-*);
  background-color: oklch(clamp(0, calc(var(--bg-l) - var(--lc-dir) * var(--bg-l-adj)), 1) var(--bg-c) var(--bg-h));
}

/* ── Text ────────────────────────────────────────────────────────────── */

@utility text-lc-* {
  --tx-l: --value(--l-*);
  color: oklch(var(--tx-l) var(--tx-c) var(--tx-h));
}

@utility text-c-* {
  --tx-c: --value(--c-*);
  color: oklch(var(--tx-l) var(--tx-c) var(--tx-h));
}

@utility text-h-* {
  --tx-h: --value(--hue-*);
  color: oklch(var(--tx-l) var(--tx-c) var(--tx-h));
}

/* ── Text LC Adjustments ─────────────────────────────────────────────
   Nudge text luminance up (more contrast) or down (less contrast)
   relative to the current --tx-l, without changing --tx-l itself. */

@utility text-lc-up-* {
  --tx-l-adj: --value(--lc-adj-*);
  color: oklch(clamp(0, calc(var(--tx-l) + var(--lc-dir) * var(--tx-l-adj)), 1) var(--tx-c) var(--tx-h));
}

@utility text-lc-down-* {
  --tx-l-adj: --value(--lc-adj-*);
  color: oklch(clamp(0, calc(var(--tx-l) - var(--lc-dir) * var(--tx-l-adj)), 1) var(--tx-c) var(--tx-h));
}

/* ── Border ──────────────────────────────────────────────────────────── */

@utility border-lc-* {
  --bd-l: --value(--l-*);
  border-color: oklch(var(--bd-l) var(--bd-c) var(--bd-h));
}

@utility border-c-* {
  --bd-c: --value(--c-*);
  border-color: oklch(var(--bd-l) var(--bd-c) var(--bd-h));
}

@utility border-h-* {
  --bd-h: --value(--hue-*);
  border-color: oklch(var(--bd-l) var(--bd-c) var(--bd-h));
}

/* ── Accent Color ────────────────────────────────────────────────────── */

@utility accent-lc-* {
  --ac-l: --value(--l-*);
  accent-color: oklch(var(--ac-l) var(--ac-c) var(--ac-h));
}

@utility accent-c-* {
  --ac-c: --value(--c-*);
  accent-color: oklch(var(--ac-l) var(--ac-c) var(--ac-h));
}

@utility accent-h-* {
  --ac-h: --value(--hue-*);
  accent-color: oklch(var(--ac-l) var(--ac-c) var(--ac-h));
}

/* ── Gradient From ───────────────────────────────────────────────────── */

@utility from-lc-* {
  --gf-l: --value(--l-*);
  --tw-gradient-from: oklch(var(--gf-l) var(--gf-c) var(--gf-h));
  --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));
}

@utility from-c-* {
  --gf-c: --value(--c-*);
  --tw-gradient-from: oklch(var(--gf-l) var(--gf-c) var(--gf-h));
  --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));
}

@utility from-h-* {
  --gf-h: --value(--hue-*);
  --tw-gradient-from: oklch(var(--gf-l) var(--gf-c) var(--gf-h));
  --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));
}

/* ── Gradient To ─────────────────────────────────────────────────────── */

@utility to-lc-* {
  --gt-l: --value(--l-*);
  --tw-gradient-to: oklch(var(--gt-l) var(--gt-c) var(--gt-h));
  --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));
}

@utility to-c-* {
  --gt-c: --value(--c-*);
  --tw-gradient-to: oklch(var(--gt-l) var(--gt-c) var(--gt-h));
  --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));
}

@utility to-h-* {
  --gt-h: --value(--hue-*);
  --tw-gradient-to: oklch(var(--gt-l) var(--gt-c) var(--gt-h));
  --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));
}

/* ── Shadow Color ────────────────────────────────────────────────────── */

@utility shadow-lc-* {
  --sh-l: --value(--l-*);
  --tw-shadow-color: oklch(var(--sh-l) var(--sh-c) var(--sh-h));
}

@utility shadow-c-* {
  --sh-c: --value(--c-*);
  --tw-shadow-color: oklch(var(--sh-l) var(--sh-c) var(--sh-h));
}

@utility shadow-h-* {
  --sh-h: --value(--hue-*);
  --tw-shadow-color: oklch(var(--sh-l) var(--sh-c) var(--sh-h));
}

/* ── Border Bottom ───────────────────────────────────────────────────── */

@utility border-b-lc-* {
  --bdb-l: --value(--l-*);
  border-bottom-color: oklch(var(--bdb-l) var(--bdb-c) var(--bdb-h));
}

@utility border-b-c-* {
  --bdb-c: --value(--c-*);
  border-bottom-color: oklch(var(--bdb-l) var(--bdb-c) var(--bdb-h));
}

@utility border-b-h-* {
  --bdb-h: --value(--hue-*);
  border-bottom-color: oklch(var(--bdb-l) var(--bdb-c) var(--bdb-h));
}
